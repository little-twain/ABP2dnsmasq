# ABP2dnsmasq

ABP2dnsmasqは、Go言語で書かれたコマンドラインツールで、特定のルールとドメインをdnsmasqの設定ファイルに変換し、SOCKS5とHTTPプロキシを介してネットワークにアクセスすることをサポートします。

このツールの主な機能は、特定のURLからルールとドメインを取得し、これらのルールとドメインをdnsmasqが理解できる形式に変換し、指定した出力ファイルに書き込むことです。

## 主な特徴

1. SOCKS5またはHTTPプロキシを介してネットワークにアクセスするサポート。
2. リモートURLからのルールファイルのダウンロードと解析をサポート。
3. 追加のパラメータを提供して、出力されるdnsmasqの設定ファイルをカスタマイズします。
4. 入力ルールとドメインの重複を自動的に削除し、その有効性を検証します。

## 使用方法

コマンドラインのパラメータは以下のとおりです：

- `-output`：出力ファイルのパス。
- `-url`：処理するファイルのURL。
- `-address` ：AレコードまたはAAAAレコードの生成。
- `-domain`：追加するドメインを含むファイル。
- `-server`：DNSサーバーのIPアドレス。
- `-port`：DNSサーバーのポート（デフォルトは53）。
- `-ipset`：ipsetの名前。
- `-proxy`：プロキシサーバーのアドレス、SOCKS5とHTTPプロキシをサポート。

以下は使用例です：

```shell
./ABP2dnsmasq -output /path/to/output -url https://example.com/rules.txt -domain /path/to/domains -server 1.1.1.1 -port 53 -ipset test -proxy 127.0.0.1:1080
```

このコマンドは、`https://example.com/rules.txt`からルールをダウンロードし、`/path/to/domains`ファイルに含まれる追加のドメインを追加し、結果を`/path/to/output`ファイルに出力します。また、使用するDNSサーバーのIPアドレスは`1.1.1.1`、ポートは`53`、ipsetの名前は`test`、そしてネットワークへのアクセスは`127.0.0.1:1080`のSOCKS5またはHTTPプロキシを通じて行います。

## 注意事項

- DNSサーバーの有効なIPアドレス、ポート、ipsetの名前を提供してください。
- `-proxy`オプションを使用してネットワークにアクセスする場合、SOCKS5またはHTTPプロキシのアドレスを提供してください。

`オプションを使用してネットワークにアクセスする場合、SOCKS5またはHTTPプロキシのアドレスを提供してください。

## ライセンス

このプロジェクトは、GNU General Public License v3.0の下で公開されています。詳細はLICENSEファイルをご覧ください。

## 貢献

あらゆる形の貢献を歓迎します！このプロジェクトへのプルリクエストを送るか、問題を報告してください。
